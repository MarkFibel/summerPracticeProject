# LaTeX OCR: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∏—Å—Ç–µ–º—É –æ–ø—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ LaTeX. –í –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å **TrOCR** –æ—Ç Microsoft, –¥–æ–æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ.

## üìå –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã, —Å–ø–æ—Å–æ–±–Ω–æ–π —Ç–æ—á–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—É–ª—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π LaTeX-–∫–æ–¥. –ü—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –∑–∞–¥–∞—á–∏ —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏–∏ –Ω–∞—É—á–Ω—ã—Ö –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.

## üß† –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –º–æ–¥–µ–ª—å

* **–ú–æ–¥–µ–ª—å:** [`microsoft/trocr-base-stage1`](https://huggingface.co/microsoft/trocr-base-stage1)
* **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Vision Transformer (ViT) + RoBERTa-based decoder
* **–§–æ—Ä–º–∞—Ç –æ–±—É—á–µ–Ω–∏—è:** FP16
* **–†–µ–∂–∏–º:** Seq2Seq

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* [`transformers`](https://huggingface.co/docs/transformers/)
* [`datasets`](https://huggingface.co/docs/datasets/)
* `torch`, `torchvision`
* `matplotlib`
* `evaluate`, `jiwer`, `sacrebleu`, `rouge-score`
* `accelerate` ‚Äî –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è
* **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–±—É—á–µ–Ω–∏—è:** Kaggle + Jupyter Notebook

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏

–ú–æ–¥–µ–ª—å –æ–±—É—á–∞–ª–∞—Å—å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–µ–¥—É—é—â–∏—Ö –º–µ—Ç—Ä–∏–∫:

* **CER** (Character Error Rate)
* **WER** (Word Error Rate)
* **Character-level Accuracy**

## üìÅ –î–∞–Ω–Ω—ã–µ

* **–î–∞—Ç–∞—Å–µ—Ç:** [`linxy/LaTeX_OCR`](https://huggingface.co/datasets/linxy/LaTeX_OCR)
* **–†–∞–∑–º–µ—Ä –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–∏:** 76,318 –ø—Ä–∏–º–µ—Ä–æ–≤
* **–†–∞–∑–º–µ—Ä –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏:** 8,475 –ø—Ä–∏–º–µ—Ä–æ–≤
* –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—ã–ª–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã: –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫ RGB, –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ `TrOCRProcessor`, LaTeX-—Å—Ç—Ä–æ–∫–∏ —Ç–æ–∫–µ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.

## üöÄ –û–±—É—á–µ–Ω–∏–µ

* **–≠–ø–æ—Ö–∏:** 100
* **Batch size:** 8
* **–°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Ü–µ–Ω–∫–∏:** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —ç–ø–æ—Ö–∏
* **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GPU –∏ FP16
* **Trainer:** `Seq2SeqTrainer` –æ—Ç Hugging Face

## üìà –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–ì—Ä–∞—Ñ–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –¥–∏–Ω–∞–º–∏–∫—É –æ–±—É—á–µ–Ω–∏—è:

* –§—É–Ω–∫—Ü–∏—è –ø–æ—Ç–µ—Ä—å (Loss)
* CER
* WER
* Accuracy

–ú–µ—Ç—Ä–∏–∫–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è.

## üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ñ–æ—Ä–º—É–ª
* –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –∑–∞ —Å—á—ë—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞—É–≥–º–µ–Ω—Ç–∞—Ü–∏–π
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π TrOCR –∏ –¥—Ä—É–≥–∏—Ö OCR-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä

## üë®‚Äçüéì –ê–≤—Ç–æ—Ä

**–ú–æ–∏—Å–µ–µ–Ω–∫–æ –î–∞–Ω–∏–ª –†–æ–º–∞–Ω–æ–≤–∏—á**
–°—Ç—É–¥–µ–Ω—Ç –£—Ä–§–£, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 09.03.01 "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞"
–ì—Ä—É–ø–ø–∞: –†–ò-230918

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏. –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.